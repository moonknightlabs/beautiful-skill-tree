{"version":3,"file":"beautiful-skill-tree.cjs.production.min.js","sources":["../src/context/appContextReducer.ts","../src/context/AppContext.tsx","../src/theme/index.ts","../src/context/FilterContext.tsx","../src/components/SkillTreeGroup.tsx","../src/components/constants.ts","../src/components/tooltip/TooltipContent.tsx","../src/images/close.svg","../src/hooks/useMobile.tsx","../src/components/tooltip/Tooltip.tsx","../src/components/ui/Icon.tsx","../src/components/ui/Node.tsx","../src/helpers/isIOS.ts","../src/components/SkillNode.tsx","../src/components/ui/Line.tsx","../src/components/ui/AngledLine.tsx","../src/components/ui/UpperAngledLine.tsx","../src/components/ui/MiddleAngledLine.tsx","../src/components/ui/LowerAngledLine.tsx","../src/components/SkillEdge.tsx","../src/context/SkillContext.tsx","../src/components/SkillTreeSegment.tsx","../src/components/ui/HSeparator.tsx","../src/components/VisibilityContainer.tsx","../src/components/CalculateNodeCount.tsx","../src/components/SkillTreeHeader.tsx","../src/components/filter/AddToFilterIndex.tsx","../src/components/filter/FilterListener.tsx","../src/components/SkillTree.tsx","../src/components/SkillProvider.tsx"],"sourcesContent":["import { Action } from 'models';\nimport { initialState } from './AppContext';\n\ntype State = {\n  selectedSkillCount: {\n    required: number;\n    optional: number;\n  };\n};\n\nfunction reducer(state: State, action: Action) {\n  switch (action.type) {\n    case 'SELECT_REQUIRED_SKILL':\n      return {\n        ...state,\n        selectedSkillCount: {\n          optional: state.selectedSkillCount.optional,\n          required: state.selectedSkillCount.required + 1,\n        },\n      };\n    case 'DESELECT_REQUIRED_SKILL':\n      return {\n        ...state,\n        selectedSkillCount: {\n          optional: state.selectedSkillCount.optional,\n          required: state.selectedSkillCount.required - 1,\n        },\n      };\n    case 'SELECT_OPTIONAL_SKILL':\n      return {\n        ...state,\n        selectedSkillCount: {\n          optional: state.selectedSkillCount.optional + 1,\n          required: state.selectedSkillCount.required,\n        },\n      };\n    case 'DESELECT_OPTIONAL_SKILL':\n      return {\n        ...state,\n        selectedSkillCount: {\n          optional: state.selectedSkillCount.optional - 1,\n          required: state.selectedSkillCount.required,\n        },\n      };\n    case 'RESET_SKILLS':\n      return initialState;\n    default:\n      return state;\n  }\n}\n\nexport default reducer;\n","import * as React from 'react';\nimport { v4 as uuid } from 'uuid';\nimport { SkillCount, Action } from '../models';\nimport reducer from './appContextReducer';\n\ntype Props = {\n  children: React.ReactNode;\n};\n\nexport interface IAppContext {\n  skillCount: SkillCount;\n  addToSkillCount: (skilCount: SkillCount) => void;\n  selectedSkillCount: SkillCount;\n  dispatch: React.Dispatch<Action>;\n  resetId: string;\n  resetSkills: VoidFunction;\n}\n\nconst AppContext = React.createContext<IAppContext>({\n  skillCount: {\n    required: 0,\n    optional: 0,\n  },\n  addToSkillCount: () => undefined,\n  selectedSkillCount: {\n    required: 0,\n    optional: 0,\n  },\n  dispatch: () => '',\n  resetId: '',\n  resetSkills: () => undefined,\n});\n\nexport const initialState = {\n  selectedSkillCount: {\n    required: 0,\n    optional: 0,\n  },\n};\n\nexport function AppProvider({ children }: Props) {\n  const [resetId, setResetId] = React.useState('');\n  const [skillCount, setSkillCount] = React.useState({\n    required: 0,\n    optional: 0,\n  });\n\n  const [state, dispatch] = React.useReducer(reducer, initialState);\n\n  function addToSkillCount(skillCount: SkillCount): void {\n    return setSkillCount(prev => ({\n      required: prev.required + skillCount.required,\n      optional: prev.optional + skillCount.optional,\n    }));\n  }\n\n  function resetSkills() {\n    const action: Action = {\n      type: 'RESET_SKILLS',\n    };\n\n    dispatch(action);\n    setResetId(uuid());\n\n    return;\n  }\n\n  return (\n    <AppContext.Provider\n      value={{\n        skillCount,\n        dispatch,\n        addToSkillCount,\n        selectedSkillCount: state.selectedSkillCount,\n        resetId,\n        resetSkills,\n      }}\n    >\n      {children}\n    </AppContext.Provider>\n  );\n}\n\nexport default AppContext;\n","const defaultTheme = {\n  backgroundColor: 'transparent',\n  border: '2px solid white',\n  borderRadius: '4px',\n  primaryFont: `-apple-system, BlinkMacSystemFont, 'Segoe UI', 'Roboto', 'Oxygen',\n  'Ubuntu', 'Cantarell', 'Fira Sans', 'Droid Sans', 'Helvetica Neue', sans-serif`,\n  primaryFontColor: 'white',\n  treeBackgroundColor: '#282c34',\n  disabledTreeOpacity: 0.8,\n  headingFont: `-apple-system, BlinkMacSystemFont, 'Segoe UI', 'Roboto', 'Oxygen Ubuntu', 'Cantarell', 'Fira Sans', 'Droid Sans', 'Helvetica Neue', sans-serif`,\n  headingFontColor: 'white',\n  headingFontSize: '24px',\n  headingHoverColor: '#35373b',\n  headingHoverColorTransition: 'background 0.3s ease-out',\n  tooltipBackgroundColor: 'white',\n  tooltipFontColor: '#16181c',\n  tooltipZIndex: 99999,\n  nodeBackgroundColor: '#282c34',\n  nodeBorderColor: 'white',\n  nodeAlternativeFontColor: 'white',\n  nodeAltenativeActiveFontColor: 'white',\n  nodeOverlayColor: 'white',\n  nodeAlternativeActiveBackgroundColor: `\n  linear-gradient(\n    to right,\n    #b9e562 0%,\n    #41e2bd 50%,\n    #c284d8 100%\n  )`,\n  nodeActiveBackgroundColor: `linear-gradient(\n      to right,\n      #b9e562 0%,\n      #41e2bd 50%,\n      #c284d8 100%\n    )`,\n  nodeHoverBorder: '4px solid',\n  nodeHoverBorderColor: `linear-gradient(\n      to right,\n      #b9e562 0%,\n      #41e2bd 50%,\n      #c284d8 100%\n    )`,\n  nodeIconWidth: '64px',\n  nodeMobileTextNodeHeight: '40px',\n  nodeMobileTextNodeWidth: '120px',\n  nodeMobileFontSize: '14px',\n  nodeDesktopTextNodeHeight: '40px',\n  nodeDesktopTextNodeWidth: '144px',\n  nodeDesktopFontSize: '16px',\n  edgeBorder: '1px solid white',\n};\n\nexport type SkillTheme = typeof defaultTheme;\n\nexport default defaultTheme;\n","import * as React from 'react';\nimport { SkillMap } from '../models';\n\ninterface Props {\n  children: React.ReactNode;\n}\n\ninterface IFilterContext {\n  filtersMatches: Set<string> | null;\n  handleFilter: (query: string) => void;\n  addToSkillMap: (skillMap: SkillMap) => void;\n}\n\nconst FilterContext = React.createContext<IFilterContext>({\n  filtersMatches: null,\n  handleFilter: () => null,\n  addToSkillMap: () => null,\n});\n\nexport function FilterProvider(props: Props) {\n  const [skillMap, setSkillMap] = React.useState<SkillMap>({});\n  const [filtersMatches, setMatches] = React.useState<Set<string> | null>(null);\n  // keep the map, also keep track of the sorted keys. (if performance becomes a concern).\n\n  function handleFilter(query: string) {\n    if (query.trim() === '') {\n      return setMatches(null);\n    }\n\n    const sanitizedQuery = query.toLowerCase();\n    const skills = Object.keys(skillMap);\n    const filteredSkills = skills.filter(key => key.includes(sanitizedQuery));\n    const treeIds = new Set(filteredSkills.map(skill => skillMap[skill]));\n\n    return setMatches(treeIds);\n  }\n\n  function addToSkillMap(skillMap: SkillMap) {\n    return setSkillMap(prev => ({\n      ...prev,\n      ...skillMap,\n    }));\n  }\n\n  return (\n    <FilterContext.Provider\n      value={{\n        filtersMatches,\n        handleFilter,\n        addToSkillMap,\n      }}\n    >\n      {props.children}\n    </FilterContext.Provider>\n  );\n}\n\nexport default FilterContext;\n","import * as React from 'react';\nimport AppContext from '../context/AppContext';\nimport styled, { ThemeProvider } from 'styled-components';\nimport defaultTheme from '../theme/index';\nimport { DeepPartial } from '../models/utils';\nimport { SkillGroupData } from '../models';\nimport FilterContext from '../context/FilterContext';\n\ntype Props = {\n  children: (treeData: SkillGroupData) => React.ReactNode;\n} & DeepPartial<typeof defaultProps>;\n\nconst defaultProps = {\n  theme: defaultTheme,\n};\n\nfunction SkillTreeGroup({ theme, children }: Props) {\n  const { skillCount, selectedSkillCount, resetSkills } = React.useContext(\n    AppContext\n  );\n\n  const { handleFilter } = React.useContext(FilterContext);\n  const skillTreeTheme = React.useMemo(() => ({ ...defaultTheme, ...theme }), [\n    theme,\n  ]);\n\n  const treeData: SkillGroupData = {\n    skillCount,\n    selectedSkillCount,\n    resetSkills,\n    handleFilter,\n  };\n\n  return (\n    <ThemeProvider theme={skillTreeTheme}>\n      <StyleSkillTreeGroup>{children(treeData)}</StyleSkillTreeGroup>\n    </ThemeProvider>\n  );\n}\n\nSkillTreeGroup.defaultProps = defaultProps;\n\nexport default SkillTreeGroup;\n\nconst StyleSkillTreeGroup = styled.div`\n  display: flex;\n  flex-wrap: wrap;\n  font-family: ${({ theme }) => theme.primaryFont};\n  color: ${({ theme }) => theme.primaryFontColor};\n  -moz-osx-font-smoothing: grayscale;\n  -webkit-font-smoothing: antialiased;\n  justify-content: center;\n  margin: 0 0 48px;\n  min-width: fit-content;\n`;\n","export const LOCKED_STATE = 'locked';\nexport const UNLOCKED_STATE = 'unlocked';\nexport const SELECTED_STATE = 'selected';\n","import * as React from 'react';\nimport styled from 'styled-components';\n// @ts-ignore\nimport CloseIcon from '../../images/close.svg';\n\ntype Props = {\n  content: React.ReactNode;\n  title: string;\n  handleClose: () => void;\n};\n\nconst TooltipContent = React.memo(function({\n  content,\n  title,\n  handleClose,\n}: Props) {\n  return (\n    <React.Fragment>\n      <div style={{ display: 'flex', justifyContent: 'space-between' }}>\n        <Title>{title}</Title>\n        <img\n          onClick={handleClose}\n          style={{\n            width: '16px',\n            margin: '21px 4px auto 0',\n            cursor: 'pointer',\n          }}\n          src={CloseIcon}\n          alt=\"icon\"\n        />\n      </div>\n      <ContentContainer>{content}</ContentContainer>\n    </React.Fragment>\n  );\n});\n\nexport default TooltipContent;\n\nconst Title = styled.h1`\n  margin: 8px 0;\n`;\n\nconst ContentContainer = styled.div`\n  margin: 8px 0;\n`;\n","const img = \"data:image/svg+xml,%3c%3fxml version='1.0' encoding='iso-8859-1'%3f%3e%3c!-- Generator: Adobe Illustrator 19.0.0%2c SVG Export Plug-In . SVG Version: 6.00 Build 0) --%3e%3csvg version='1.1' id='Capa_1' fill='white' xmlns='http://www.w3.org/2000/svg' xmlns:xlink='http://www.w3.org/1999/xlink' x='0px' y='0px' viewBox='0 0 47.971 47.971' style='enable-background:new 0 0 47.971 47.971%3b' xml:space='preserve'%3e%3cg%3e %3cpath d='M28.228%2c23.986L47.092%2c5.122c1.172-1.171%2c1.172-3.071%2c0-4.242c-1.172-1.172-3.07-1.172-4.242%2c0L23.986%2c19.744L5.121%2c0.88 c-1.172-1.172-3.07-1.172-4.242%2c0c-1.172%2c1.171-1.172%2c3.071%2c0%2c4.242l18.865%2c18.864L0.879%2c42.85c-1.172%2c1.171-1.172%2c3.071%2c0%2c4.242 C1.465%2c47.677%2c2.233%2c47.97%2c3%2c47.97s1.535-0.293%2c2.121-0.879l18.865-18.864L42.85%2c47.091c0.586%2c0.586%2c1.354%2c0.879%2c2.121%2c0.879 s1.535-0.293%2c2.121-0.879c1.172-1.171%2c1.172-3.071%2c0-4.242L28.228%2c23.986z'/%3e%3c/g%3e%3cg%3e%3c/g%3e%3cg%3e%3c/g%3e%3cg%3e%3c/g%3e%3cg%3e%3c/g%3e%3cg%3e%3c/g%3e%3cg%3e%3c/g%3e%3cg%3e%3c/g%3e%3cg%3e%3c/g%3e%3cg%3e%3c/g%3e%3cg%3e%3c/g%3e%3cg%3e%3c/g%3e%3cg%3e%3c/g%3e%3cg%3e%3c/g%3e%3cg%3e%3c/g%3e%3cg%3e%3c/g%3e%3c/svg%3e\";\n  export default img;","import { useEffect, useState } from 'react';\nimport { throttle } from 'lodash';\n\nconst useMobile = () => {\n  const [width, setWidth] = useState(Infinity);\n\n  useEffect(() => {\n    function handler() {\n      setWidth(window.innerWidth);\n    }\n\n    setWidth(window.innerWidth);\n\n    const throttledHandler = throttle(handler, 500);\n\n    window.addEventListener('resize', throttledHandler);\n\n    return () => {\n      window.removeEventListener('resize', throttledHandler);\n    };\n  }, []);\n\n  return width < 1200;\n};\n\nexport default useMobile;\n","import React, { useContext, useRef } from 'react';\nimport TooltipContent from './TooltipContent';\nimport styled, { ThemeContext } from 'styled-components';\nimport Tippy from '@tippy.js/react';\nimport { Instance, Props as TProps } from 'tippy.js';\nimport { Tooltip } from '../../models';\nimport useMobile from '../../hooks/useMobile';\n\nimport 'tippy.js/dist/tippy.css';\nimport 'tippy.js/animations/shift-away.css';\nimport { SkillTheme } from 'theme';\n\ninterface Props {\n  children: React.ReactElement;\n  title: string;\n  tooltip: Tooltip;\n}\n\nfunction Tooltip(props: Props) {\n  const { children, tooltip, title } = props;\n  const { direction = 'top', content } = tooltip;\n  const { tooltipZIndex } = useContext<SkillTheme>(ThemeContext);\n  const tooltipRef = useRef<Instance<TProps> | null>(null);\n  const isMobile = useMobile();\n\n  const placement = React.useMemo(() => (isMobile ? 'top' : direction), [\n    isMobile,\n    direction,\n  ]);\n\n  function hideTooltip() {\n    if (!tooltipRef.current) return;\n\n    return tooltipRef.current.hide();\n  }\n\n  const memoizedContent = React.useMemo(() => {\n    return (\n      <TooltipContent\n        handleClose={hideTooltip}\n        content={content}\n        title={title}\n      />\n    );\n  }, [content, title]);\n\n  return (\n    <StyledTippy\n      interactive\n      placement={placement}\n      onCreate={tooltip => {\n        tooltipRef.current = tooltip;\n      }}\n      hideOnClick={false}\n      animation=\"shift-away\"\n      arrow={false}\n      appendTo={document.body}\n      touch=\"hold\"\n      zIndex={tooltipZIndex}\n      content={memoizedContent}\n    >\n      {children}\n    </StyledTippy>\n  );\n}\n\nexport default Tooltip;\n\nconst StyledTippy = styled(Tippy)`\n  background-color: ${({ theme }) => theme.treeBackgroundColor};\n  border: ${({ theme }) => theme.border};\n  border-image-source: ${({ theme }) => theme.nodeHoverBorderColor};\n  border-image-slice: 1;\n  border-radius: ${({ theme }) => theme.borderRadius};\n  padding: 0 8px;\n  text-align: left;\n  width: 320px;\n\n  .tippy-backdrop {\n    background-color: ${({ theme }) => theme.treeBackgroundColor};\n  }\n`;\n","import React from 'react';\nimport styled from 'styled-components';\n\nexport interface Props {\n  containerWidth: number;\n  src: string;\n  title: string;\n}\n\ninterface StyledIconProps {\n  containerWidth: number;\n}\n\nconst Icon = React.memo(function({ src, title, containerWidth }: Props) {\n  return (\n    <StyledIcon data-testid=\"icon-container\" containerWidth={containerWidth}>\n      <Image src={src} alt={title} />\n    </StyledIcon>\n  );\n});\n\nexport default Icon;\n\nconst StyledIcon = styled.div.attrs<StyledIconProps>(props => ({\n  style: {\n    height: `${props.containerWidth}px`,\n    width: `${props.containerWidth}px`,\n  },\n}))<StyledIconProps>`\n  display: flex;\n`;\n\nconst Image = styled.img`\n  pointer-events: none;\n  height: 75%;\n  margin: auto;\n  width: 75%;\n`;\n","import * as React from 'react';\nimport styled, { BaseThemedCssFunction } from 'styled-components';\nimport { SELECTED_STATE, UNLOCKED_STATE, LOCKED_STATE } from '../constants';\nimport { Skill } from '../../models';\nimport Icon from './Icon';\nimport isIOSDevice from '../../helpers/isIOS';\nimport { SkillThemeType } from '../../';\n\nconst keyframes = require('styled-components').keyframes;\nconst css: BaseThemedCssFunction<SkillThemeType> = require('styled-components')\n  .css;\n\ninterface Props {\n  handleClick: VoidFunction;\n  handleRightClick: VoidFunction;\n  id: string;\n  currentState: string;\n  skill: Skill;\n  learned: number;\n}\n\ninterface StyledNodeProps {\n  optional: boolean;\n  selected: boolean;\n  unlocked: boolean;\n  locked: boolean;\n  isIOS: boolean;\n  color: 'default' | 'alternative';\n}\n\ninterface TextProp {\n  selected: boolean;\n}\n\nconst Node = React.forwardRef(function Node(\n  props: Props,\n  ref: React.Ref<HTMLDivElement>\n) {\n  const {\n    handleClick,\n    handleRightClick,\n    id,\n    currentState,\n    skill,\n    learned,\n  } = props;\n  // console.log('Skill', skill);\n  const { color = 'default' } = skill;\n  const [isIOS, setIsIOS] = React.useState(false);\n\n  const memoizedHandleKeyDown = React.useCallback(\n    function handleKeyDown(e: React.KeyboardEvent<HTMLDivElement>) {\n      if (e.keyCode === 13) {\n        handleClick();\n      }\n    },\n    [handleClick]\n  );\n\n  React.useEffect(() => {\n    setIsIOS(isIOSDevice());\n  }, []);\n\n  const checkForClickType = (e: React.MouseEvent<HTMLDivElement>) => {\n    e.preventDefault();\n    if (e.button === 0) {\n      handleClick();\n    } else if (e.button === 2) {\n      handleRightClick();\n    }\n  };\n  return (\n    <StyledNode\n      onClick={checkForClickType}\n      // onContextMenu={checkForClickType}\n      onKeyDown={memoizedHandleKeyDown}\n      ref={ref}\n      tabIndex={0}\n      data-testid={id}\n      optional={skill.optional || false}\n      isIOS={isIOS}\n      selected={currentState === SELECTED_STATE}\n      unlocked={currentState === UNLOCKED_STATE}\n      locked={currentState === LOCKED_STATE}\n      color={color}\n    >\n      {'icon' in skill ? (\n        <IconNode>\n          <Icon title=\"node-icon\" src={skill.icon} containerWidth={64} />\n          <LevelNode>\n            {/* {skill.learned}/{skill.levels.length} */}\n            {learned}/{skill.levels.length}\n          </LevelNode>\n        </IconNode>\n      ) : (\n        <TextNode>\n          {color === 'default' ? (\n            <>\n              <Text>{skill.title}</Text>\n              <LevelNode>\n                {/* {skill.learned}/{skill.levels.length} */}\n                {learned}/{skill.levels.length}\n              </LevelNode>\n            </>\n          ) : (\n            <>\n              <AlternativeText selected={currentState === SELECTED_STATE}>\n                {skill.title}\n              </AlternativeText>\n              <LevelNode>\n                {/* {skill.learned}/{skill.levels.length} */}\n                {learned}/{skill.levels.length}\n              </LevelNode>\n            </>\n          )}\n        </TextNode>\n      )}\n    </StyledNode>\n  );\n});\n\nexport default Node;\n\nconst shadowburst = keyframes`\n  from {\n    box-shadow: 0 0 18px 0 rgba(255, 255, 255, 1);\n  }\n\n  20% {\n    box-shadow: 0 0 24px 0 rgba(255, 255, 255, 1);\n  }\n\n  to {\n    box-shadow: 0 0 12px 0 rgba(255, 255, 255, 0);\n  }\n`;\n\nconst shadowpulse = keyframes`\n  from,\n  20% {\n    box-shadow: 0 0 8px 0 rgba(255, 255, 255, 0.5);\n  }\n\n  to {\n    box-shadow: 0 0 12px 0 rgba(255, 255, 255, 0.5);\n  }\n`;\n\nconst StyledNode = styled.div<StyledNodeProps>`\n  background: ${({ theme }) => theme.nodeBackgroundColor};\n  border: 2px solid;\n  border-color: ${({ theme }) => theme.nodeBorderColor};\n  box-shadow: 0 0 12px 0 rgba(255, 255, 255, 0);\n  border-radius: ${({ theme }) => theme.borderRadius};\n  cursor: pointer;\n  display: flex;\n  margin: 0 3px;\n  outline: none;\n  position: relative;\n  transition: box-shadow 0.6s, opacity 1s;\n  user-select: none;\n\n  @media (min-width: 410px) {\n    margin: 0 8px;\n  }\n\n  @media (min-width: 900px) {\n    margin: 0 16px;\n    outline: initial;\n    outline-color: white;\n  }\n\n  ${props =>\n    props.selected &&\n    css`\n      animation: ${shadowburst} 1s 1;\n      background: ${({ theme }) =>\n        props.color === 'default'\n          ? theme.nodeActiveBackgroundColor\n          : theme.nodeAlternativeActiveBackgroundColor};\n    `}\n\n  ${props =>\n    props.unlocked &&\n    css`\n      animation: ${shadowpulse} 1s infinite alternate;\n      box-shadow: 0 0 6px 0 rgba(255, 255, 255, 0.5);\n\n      &:after,\n      &:before {\n        border: 0 solid;\n        border-image-source: ${({ theme }) => theme.nodeHoverBorderColor};\n        border-image-slice: 1;\n        content: ' ';\n        opacity: 0;\n        height: 0;\n        transition: opacity 0.6s, width 0.6s, height 0.6s;\n        position: absolute;\n        width: 0;\n      }\n\n      &:after {\n        border-top: ${({ theme }) => theme.nodeHoverBorder};\n        border-left: ${({ theme }) => theme.nodeHoverBorder};\n        top: 0;\n        left: 0;\n      }\n\n      &:before {\n        bottom: 0px;\n        right: 0px;\n        border-bottom: ${({ theme }) => theme.nodeHoverBorder};\n        border-right: ${({ theme }) => theme.nodeHoverBorder};\n      }\n\n      &:hover,\n      &:focus {\n        animation: none;\n        box-shadow: 0 0 12px 0 rgba(255, 255, 255, 1);\n\n        &:after,\n        &:before {\n          opacity: 1;\n          height: 85%;\n          transition: width 0.6s, height 0.6s;\n          width: ${(props: StyledNodeProps) => (props.isIOS ? 0 : '95%')};\n        }\n      }\n    `}\n\n    ${props =>\n      props.unlocked &&\n      props.optional &&\n      css`\n        background: ${({ theme }) => theme.nodeBackgroundColor};\n      `}\n\n  ${props =>\n    props.locked &&\n    `\n        cursor: initial;\n        opacity: 0.65;\n    `}\n`;\n\nconst IconNode = styled.div`\n  width: ${({ theme }) => theme.nodeIconNodeWidth};\n`;\n\nconst LevelNode = styled.div`\n  background-color: black;\n  position: absolute;\n  padding: 5px 10px;\n  border-radius: 4px;\n  font-size: 14px;\n  bottom: -10px;\n  right: -25px;\n  z-index: 99;\n\n  @media (max-width: 900px) {\n    font-size: 12px;\n    bottom: -15px;\n  }\n`;\n\nconst TextNode = styled.div`\n  align-items: center;\n  display: flex;\n  font-weight: 600;\n  justify-content: center;\n  height: ${({ theme }) => theme.nodeMobileTextNodeHeight};\n  width: ${({ theme }) => theme.nodeMobileTextNodeWidth};\n\n  @media (min-width: 900px) {\n    height: ${({ theme }) => theme.nodeDesktopTextNodeHeight};\n    width: ${({ theme }) => theme.nodeDesktopTextNodeWidth};\n  }\n`;\n\nconst Text = styled.p`\n  font-size: ${({ theme }) => theme.nodeMobileFontSize};\n  text-overflow: ellipsis;\n  margin: 0;\n  overflow: hidden;\n  padding: 0 8px;\n  white-space: nowrap;\n\n  @media (min-width: 900px) {\n    font-size: ${({ theme }) => theme.nodeDesktopFontSize};\n  }\n`;\n\nconst AlternativeText = styled(Text)<TextProp>`\n  color: ${({ theme }) => theme.nodeAlternativeFontColor};\n\n  ${props =>\n    props.selected &&\n    css`\n      color: ${({ theme }) => theme.nodeAltenativeActiveFontColor};\n    `};\n`;\n","// Since this function reads from the navigator, ensure that all invocation\n// take place inside of `useEffect`. This is to ensure that compatibility with gatsby,\n// or any application rendered server side, is not broken. This is because globals like\n// navigator and window aren't available on the server side, so these functions will need\n// to be invoked at runtime.\nfunction isIOSDevice() {\n  var iDevices = [\n    'iPad Simulator',\n    'iPhone Simulator',\n    'iPod Simulator',\n    'iPad',\n    'iPhone',\n    'iPod',\n  ];\n\n  if (!navigator) false;\n\n  if (!!navigator.platform) {\n    while (iDevices.length) {\n      if (navigator.platform === iDevices.pop()) {\n        return true;\n      }\n    }\n  }\n\n  return false;\n}\n\nexport default isIOSDevice;\n","import React from 'react';\nimport { throttle } from 'lodash';\nimport styled from 'styled-components';\nimport { LOCKED_STATE, UNLOCKED_STATE, SELECTED_STATE } from './constants';\nimport SkillTreeSegment from './SkillTreeSegment';\nimport Tooltip from './tooltip/Tooltip';\nimport { Skill, NodeState } from '../models';\nimport Node from './ui/Node';\ninterface Props {\n  skill: Skill;\n  nodeState: NodeState;\n  currentLevel: number | string;\n  learned: number;\n  handleLearnedChange: (newValue: number) => void;\n  incSkillCount: (optional?: boolean) => void;\n  decSkillCount: (optional?: boolean) => void;\n  handleNodeSelect?: (\n    key: string,\n    state: NodeState,\n    skill: Skill,\n    lerned: number\n  ) => void;\n  handleNodeRemove?: (\n    key: string,\n    state: NodeState,\n    skill: Skill,\n    lerned: number\n  ) => void;\n  updateSkillState: (\n    key: string,\n    updatedState: NodeState,\n    optional?: boolean\n  ) => void;\n}\n\nfunction SkillNode({\n  skill,\n  nodeState,\n  currentLevel,\n  learned,\n  handleLearnedChange,\n  incSkillCount,\n  // decSkillCount,\n  updateSkillState,\n  handleNodeSelect = () => null,\n  handleNodeRemove = () => null,\n}: Props) {\n  const { children, title, tooltip, id, optional } = skill;\n  const [parentPosition, setParentPosition] = React.useState(0);\n  // const [learned, handleLearnedChange] = React.useState(skill.learned);\n  const skillNodeRef: React.RefObject<HTMLDivElement> = React.useRef(null);\n  const childWidth: React.MutableRefObject<number> = React.useRef(0);\n\n  // useEffect(() => {\n  //   handleLearnedChange(skill.learned);\n  // }, [skill.learned]);\n\n  function calculatePosition() {\n    const { left, right } = skillNodeRef.current!.getBoundingClientRect();\n\n    const scrollX = window.scrollX;\n\n    setParentPosition((right - left) / 2 + left + scrollX);\n  }\n\n  function calculateOverlayWidth() {\n    childWidth.current = skillNodeRef.current!.clientWidth;\n  }\n\n  function handleResize() {\n    calculatePosition();\n    calculateOverlayWidth();\n  }\n\n  function handleClick() {\n    if (nodeState === LOCKED_STATE) {\n      return null;\n    }\n    if (nodeState === UNLOCKED_STATE) {\n      if (learned < skill.levels.length) {\n        handleLearnedChange(learned + 1);\n        if (learned < skill.levels.length - 1) {\n          handleNodeSelect(id, UNLOCKED_STATE, skill, learned + 1);\n          return updateSkillState(id, UNLOCKED_STATE, optional);\n        }\n        return;\n      }\n    }\n    return;\n  }\n\n  function handleRightClick() {\n    if (nodeState === LOCKED_STATE) {\n      handleLearnedChange(0);\n      return null;\n    }\n\n    if (nodeState === UNLOCKED_STATE) {\n      if (learned > 0) {\n        handleLearnedChange(learned - 1);\n        if (learned === 0) {\n          handleNodeRemove(id, LOCKED_STATE, skill, learned - 1);\n          return updateSkillState(id, LOCKED_STATE, optional);\n        }\n        handleNodeRemove(id, UNLOCKED_STATE, skill, learned - 1);\n        return updateSkillState(id, UNLOCKED_STATE, optional);\n      }\n    }\n    if (nodeState === SELECTED_STATE) {\n      handleLearnedChange(learned - 1);\n      handleNodeRemove(id, UNLOCKED_STATE, skill, learned - 1);\n      return updateSkillState(id, UNLOCKED_STATE, optional);\n    }\n    return;\n  }\n\n  React.useEffect(() => {\n    const throttledHandleResize = throttle(handleResize, 200);\n\n    calculatePosition();\n    calculateOverlayWidth();\n\n    window.addEventListener('resize', throttledHandleResize);\n\n    return function cleanup() {\n      window.removeEventListener('resize', throttledHandleResize);\n    };\n  }, []);\n\n  React.useEffect(() => {\n    if (learned === skill.levels.length) {\n      incSkillCount(optional);\n      handleNodeSelect(id, SELECTED_STATE, skill, learned);\n      return updateSkillState(id, SELECTED_STATE, optional);\n    }\n  }, [learned]);\n\n  const hasMultipleChildren = children.length > 1;\n\n  return (\n    <React.Fragment>\n      <StyledSkillNode>\n        <Tooltip title={title} tooltip={tooltip}>\n          <Node\n            handleClick={handleClick}\n            handleRightClick={handleRightClick}\n            id={id}\n            currentState={nodeState}\n            learned={learned}\n            skill={skill}\n            ref={skillNodeRef}\n          />\n        </Tooltip>\n      </StyledSkillNode>\n\n      {children.length > 0 && (\n        <SkillTreeSegmentWrapper>\n          {children.map(child => {\n            return (\n              <SkillTreeSegment\n                key={child.id}\n                hasParent\n                currentLevel={currentLevel}\n                parentPosition={parentPosition}\n                parentHasMultipleChildren={hasMultipleChildren}\n                shouldBeUnlocked={\n                  nodeState === SELECTED_STATE &&\n                  currentLevel >= child.requiredLevel\n                }\n                skill={child}\n              />\n            );\n          })}\n        </SkillTreeSegmentWrapper>\n      )}\n    </React.Fragment>\n  );\n}\n\nexport default React.memo(SkillNode);\n\nconst StyledSkillNode = styled.div`\n  margin: 0 auto;\n  position: relative;\n  width: fit-content;\n`;\n\nconst SkillTreeSegmentWrapper = styled.div`\n  display: flex;\n  justify-content: center;\n  position: relative;\n`;\n","import React from 'react';\nimport styled, { BaseThemedCssFunction } from 'styled-components';\nimport { NodeState } from '../../models';\nimport { SELECTED_STATE, LOCKED_STATE } from '../../components/constants';\nimport { SkillTheme } from '../../theme';\n\nconst keyframes = require('styled-components').keyframes;\nconst css: BaseThemedCssFunction<SkillTheme> = require('styled-components').css;\n\ninterface LineProps {\n  state: NodeState;\n}\n\ninterface StyledLineProps {\n  selected: boolean;\n  unlocked: boolean;\n}\n\nfunction Line({ state }: LineProps) {\n  return (\n    <LineContainer>\n      <StyledLine\n        data-testid=\"straight-line\"\n        selected={state === SELECTED_STATE}\n        unlocked={state !== LOCKED_STATE}\n      />\n    </LineContainer>\n  );\n}\n\nexport default Line;\n\nconst LineContainer = styled.div`\n  height: 56px;\n  left: 4px;\n  margin: 0 auto;\n  position: relative;\n  width: 4px;\n`;\n\nconst slidedown = keyframes`\n  from,\n  50% {\n    background-position: right top;\n  }\n\n  to {\n    background-position: left bottom;\n  }\n`;\n\nconst StyledLine = styled.div<StyledLineProps>`\n  background: linear-gradient(\n    to right,\n    rgba(255, 255, 255, 1) 0%,\n    rgba(255, 255, 255, 1) 50%,\n    rgba(255, 255, 255, 0) 51%,\n    rgba(255, 255, 255, 0) 100%\n  );\n  background-size: 210% 100%;\n  background-position: right top;\n  border: ${({ theme }) => theme.edgeBorder};\n  height: 4px;\n  opacity: 0.5;\n  transform: rotate(90deg);\n  transform-origin: 0 0;\n  transition: opacity 0.6s;\n  width: 56px;\n\n  ${props =>\n    props.selected &&\n    css`\n      animation: ${slidedown} 1.2s 1 ease-out;\n      background-position: left bottom;\n    `}\n\n  ${props =>\n    props.unlocked &&\n    `\n      opacity: 1;\n    `}\n`;\n","import styled from 'styled-components';\nimport { Direction } from '../../models';\n\nexport interface AngledLineProps {\n  unlocked: boolean;\n  selected: boolean;\n}\n\nexport interface AngledLineVerticalProps {\n  direction: Direction;\n}\n\nexport interface AngledLineHoriztonalProps {\n  direction: Direction;\n  width: number;\n}\n\nexport const StyledAngledLine = styled.div<AngledLineProps>`\n  background: linear-gradient(\n    to right,\n    rgba(255, 255, 255, 1) 0%,\n    rgba(255, 255, 255, 1) 50%,\n    rgba(255, 255, 255, 0) 51%,\n    rgba(255, 255, 255, 0) 100%\n  );\n  background-size: 210% 100%;\n  background-position: right top;\n  border: ${({ theme }) => theme.edgeBorder};\n  height: 4px;\n  position: absolute;\n  opacity: 0.5;\n  transition: opacity 0.6s;\n\n  ${props =>\n    props.unlocked &&\n    `\n      opacity: 1;\n  `}\n`;\n","import React from 'react';\nimport styled, { BaseThemedCssFunction } from 'styled-components';\nimport { NodeState, Direction } from '../../models';\nimport { SELECTED_STATE, LOCKED_STATE } from '../../components/constants';\nimport { StyledAngledLine, AngledLineVerticalProps } from './AngledLine';\nimport { SkillTheme } from '../../theme';\n\nconst keyframes = require('styled-components').keyframes;\nconst css: BaseThemedCssFunction<SkillTheme> = require('styled-components').css;\n\ninterface Props {\n  direction: Direction;\n  state: NodeState;\n}\n\nfunction UpperAngledLine(props: Props) {\n  const { direction, state } = props;\n\n  return (\n    <AngledLineVerticalTop\n      data-testid=\"upper-angled-line\"\n      direction={direction}\n      selected={state === SELECTED_STATE}\n      unlocked={state !== LOCKED_STATE}\n    />\n  );\n}\n\nexport default UpperAngledLine;\n\nconst AngledLineVerticalTop = styled(StyledAngledLine)<AngledLineVerticalProps>`\n  transform: rotate(90deg) translateY(-50%);\n  transform-origin: 0 0;\n  left: 50%;\n  top: -1px;\n  width: 29px;\n\n  ${props =>\n    props.direction === 'right' &&\n    `\n      border-bottom-right-radius: 8px;\n    `}\n\n  ${props =>\n    props.direction === 'left' &&\n    `\n      border-top-right-radius: 8px;\n    `}\n\n  ${props =>\n    props.selected &&\n    css`\n      animation: ${slideDownAngledLineTop} 0.3s 1 ease-in;\n      background-position: left bottom;\n    `}\n`;\n\nconst slideDownAngledLineTop = keyframes`\n  from,\n  33% {\n    background-position: right top;\n  }\n\n  to {\n    background-position: left bottom;\n  }\n`;\n","import React from 'react';\nimport styled, { BaseThemedCssFunction } from 'styled-components';\nimport { NodeState, Direction } from '../../models';\nimport { SELECTED_STATE, LOCKED_STATE } from '../../components/constants';\nimport { StyledAngledLine, AngledLineHoriztonalProps } from './AngledLine';\nimport { SkillTheme } from '../../theme';\n\nconst keyframes = require('styled-components').keyframes;\nconst css: BaseThemedCssFunction<SkillTheme> = require('styled-components').css;\n\ninterface Props {\n  parentPosition: number;\n  childPosition: number;\n  direction: Direction;\n  state: NodeState;\n}\n\nfunction MiddleAngledLine(props: Props) {\n  const { direction, parentPosition, childPosition, state } = props;\n\n  const width =\n    direction === 'left'\n      ? parentPosition - childPosition - 6\n      : childPosition - parentPosition - 6;\n\n  return (\n    <AngledLineHoriztonal\n      data-testid=\"middle-angled-line\"\n      direction={direction}\n      unlocked={state !== LOCKED_STATE}\n      selected={state === SELECTED_STATE}\n      width={width}\n    />\n  );\n}\n\nexport default MiddleAngledLine;\n\nconst AngledLineHoriztonal = styled(StyledAngledLine)<\n  AngledLineHoriztonalProps\n>`\n  border-left: none;\n  border-right: none;\n  top: 24px;\n  left: 50%;\n  width: ${props => props.width}px;\n  transform: translateX(3px) scale(-1);\n\n  ${props =>\n    props.direction === 'right' &&\n    `\n      transform: translateX(-3px) scale(-1);\n      transform-origin: 0;\n  `}\n\n  ${props =>\n    props.selected &&\n    css`\n      animation: ${slideDownAngledLineMiddle} 1s 1;\n      background-position: left bottom;\n    `}\n`;\n\nconst slideDownAngledLineMiddle = keyframes`\n  from,\n  30% {\n    background-position: right top;\n  }\n\n  to {\n    background-position: left bottom;\n  }\n`;\n","import React from 'react';\nimport { NodeState, Direction } from '../../models';\nimport { LOCKED_STATE, SELECTED_STATE } from '../../components/constants';\nimport styled, { BaseThemedCssFunction } from 'styled-components';\nimport { StyledAngledLine, AngledLineVerticalProps } from './AngledLine';\nimport { SkillTheme } from '../../theme';\n\nconst keyframes = require('styled-components').keyframes;\nconst css: BaseThemedCssFunction<SkillTheme> = require('styled-components').css;\n\ninterface Props {\n  direction: Direction;\n  state: NodeState;\n}\n\nfunction LowerAngledLine(props: Props) {\n  const { state, direction } = props;\n\n  return (\n    <AngledLineVerticalBottom\n      unlocked={state !== LOCKED_STATE}\n      direction={direction}\n      data-testid=\"lower-angled-line\"\n      selected={state === SELECTED_STATE}\n    />\n  );\n}\n\nexport default LowerAngledLine;\n\nconst AngledLineVerticalBottom = styled(StyledAngledLine)<\n  AngledLineVerticalProps\n>`\n  transform: rotate(90deg) translateY(-50%);\n  transform-origin: 0 0;\n  left: 50%;\n  top: 24px;\n  width: 31px;\n\n  ${props =>\n    props.direction === 'right' &&\n    `\n        border-top-left-radius: 8px;\n      `}\n\n  ${props =>\n    props.direction === 'left' &&\n    `\n      border-bottom-left-radius: 8px;\n    `}\n\n    ${props =>\n      props.selected &&\n      css`\n        animation: ${slideDownAngledLineBottom} 1.2s 1 ease-out;\n        background-position: left bottom;\n      `}\n`;\n\nconst slideDownAngledLineBottom = keyframes`\n  from,\n  70% {\n    background-position: right top;\n  }\n\n  to {\n    background-position: left bottom;\n  }\n`;\n","import React, { useEffect, useState } from 'react';\nimport { throttle } from 'lodash';\nimport { NodeState } from '../models';\nimport Line from './ui/Line';\nimport UpperAngledLine from './ui/UpperAngledLine';\nimport MiddleAngledLine from './ui/MiddleAngledLine';\nimport LowerAngledLine from './ui/LowerAngledLine';\nimport { Nullable } from 'models/utils';\n\nexport interface Props {\n  parentHasMultipleChildren: boolean;\n  childNodeRef: React.MutableRefObject<Nullable<HTMLDivElement>>;\n  state: NodeState;\n  parentPosition: number;\n}\n\nfunction SkillEdge(props: Props) {\n  const {\n    parentHasMultipleChildren,\n    state,\n    childNodeRef,\n    parentPosition,\n  } = props;\n\n  if (!parentHasMultipleChildren) return <Line state={state} />;\n\n  const [childPosition, setChildPosition] = useState(0);\n  const direction = parentPosition < childPosition ? 'right' : 'left';\n\n  function calculatePosition() {\n    const { left, width } = childNodeRef.current!.getBoundingClientRect();\n\n    const scrollX = window.scrollX;\n\n    setChildPosition(left + width / 2 + scrollX);\n  }\n\n  useEffect(() => {\n    const throttledHandleResize = throttle(calculatePosition, 200);\n\n    window.addEventListener('resize', throttledHandleResize);\n    calculatePosition();\n\n    return function cleanup() {\n      window.removeEventListener('resize', throttledHandleResize);\n    };\n  }, []);\n\n  return (\n    <div style={{ height: '56px' }}>\n      <UpperAngledLine state={state} direction={direction} />\n      <div style={{ position: 'relative' }}>\n        <MiddleAngledLine\n          parentPosition={parentPosition}\n          childPosition={childPosition}\n          state={state}\n          direction={direction}\n        />\n        <LowerAngledLine direction={direction} state={state} />\n      </div>\n    </div>\n  );\n}\n\nexport default SkillEdge;\n","import * as React from 'react';\nimport { mapValues } from 'lodash';\nimport {\n  NodeState,\n  ContextStorage,\n  Action,\n  SavedDataType,\n  SkillData,\n  NodeSelectEvent,\n  Skill,\n} from '../models';\nimport AppContext, { IAppContext } from './AppContext';\nimport { SELECTED_STATE, LOCKED_STATE } from '../components/constants';\n\ntype Props = typeof SkillTreeProvider.defaultProps & {\n  treeId: string;\n  savedData?: SavedDataType;\n  storage?: ContextStorage;\n};\n\ntype DefaultProps = {\n  handleSave: (\n    storage: ContextStorage,\n    id: string,\n    skills: SavedDataType\n  ) => void;\n  sendNodeSelectDataToClient: (e: NodeSelectEvent) => void;\n  sendNodeRemoveDataToClient: (e: NodeSelectEvent) => void;\n};\n\ninterface State {\n  skills: SavedDataType;\n  skillCount: number;\n  selectedCount: number;\n  resetId: string;\n  mounting: boolean;\n}\n\nexport interface ISkillContext {\n  mounting: boolean;\n  skills: SavedDataType;\n  skillCount: number;\n  selectedCount: number;\n  updateSkillState: (\n    key: string,\n    updatedState: NodeState,\n    optional?: boolean\n  ) => void;\n  setSkillCount: (skillCount: number) => void;\n  handleNodeSelect: (\n    key: string,\n    state: NodeState,\n    skill: Skill,\n    learned: number\n  ) => void;\n  handleNodeRemove: (\n    key: string,\n    state: NodeState,\n    skill: Skill,\n    learned: number\n  ) => void;\n  incrementSelectedCount: VoidFunction;\n  decrementSelectedCount: VoidFunction;\n}\n\nconst SkillContext = React.createContext<ISkillContext>({\n  mounting: true,\n  skills: {},\n  skillCount: 0,\n  selectedCount: 0,\n  updateSkillState: () => undefined,\n  setSkillCount: () => undefined,\n  handleNodeSelect: () => undefined,\n  handleNodeRemove: () => undefined,\n  incrementSelectedCount: () => undefined,\n  decrementSelectedCount: () => undefined,\n});\n\nexport class SkillTreeProvider extends React.Component<Props, State> {\n  static contextType = AppContext;\n  static defaultProps: DefaultProps = {\n    handleSave(storage, treeId, skills) {\n      return storage.setItem(`skills-${treeId}`, JSON.stringify(skills));\n    },\n    sendNodeSelectDataToClient() {\n      return null;\n    },\n    sendNodeRemoveDataToClient() {\n      return null;\n    },\n  };\n\n  storage: ContextStorage | null = null;\n\n  constructor(props: Props, context: IAppContext) {\n    super(props, context);\n\n    this.state = {\n      skills: {},\n      skillCount: 0,\n      selectedCount: 0,\n      resetId: context.resetId,\n      mounting: true,\n    };\n  }\n\n  componentDidMount() {\n    const { storage } = this.props;\n    const { context } = this;\n\n    if (storage) {\n      this.storage = storage;\n    } else {\n      this.storage = localStorage;\n    }\n\n    const treeSkills = this.getTreeSkills();\n    let selectedCount = 0;\n\n    Object.keys(treeSkills).map(key => {\n      if (treeSkills[key].nodeState === SELECTED_STATE) {\n        selectedCount++;\n        const action: Action = {\n          type: treeSkills[key].optional\n            ? 'SELECT_OPTIONAL_SKILL'\n            : 'SELECT_REQUIRED_SKILL',\n        };\n\n        context.dispatch(action);\n      }\n    });\n\n    this.setState({\n      skills: treeSkills,\n      selectedCount,\n      mounting: false,\n    });\n\n    return null;\n  }\n\n  getTreeSkills = (): SavedDataType => {\n    if (this.props.savedData) {\n      return this.props.savedData;\n    }\n\n    const { treeId } = this.props;\n\n    const storedItems = this.storage!.getItem(`skills-${treeId}`);\n\n    if (storedItems === 'undefined' || storedItems === null) {\n      return {};\n    }\n\n    return JSON.parse(storedItems);\n  };\n\n  componentDidUpdate() {\n    if (this.context.resetId !== this.state.resetId) {\n      this.resetSkills();\n    }\n  }\n\n  incrementSelectedCount = (optional: boolean = false) => {\n    const action: Action = {\n      type: optional ? 'SELECT_OPTIONAL_SKILL' : 'SELECT_REQUIRED_SKILL',\n    };\n\n    this.setState(prevState => {\n      const { selectedCount } = prevState;\n      return { selectedCount: selectedCount + 1 };\n    });\n\n    this.context.dispatch(action);\n  };\n\n  decrementSelectedCount = (optional: boolean = false) => {\n    const action: Action = {\n      type: optional ? 'DESELECT_OPTIONAL_SKILL' : 'DESELECT_REQUIRED_SKILL',\n    };\n\n    this.setState(prevState => {\n      const { selectedCount } = prevState;\n      return { selectedCount: selectedCount - 1 };\n    });\n\n    this.context.dispatch(action);\n  };\n\n  resetSkills = () => {\n    return this.setState(prevState => {\n      const { skills } = prevState;\n\n      const resettedSkills: SavedDataType = mapValues(\n        skills,\n        (skill: SkillData) => ({\n          optional: skill.optional,\n          nodeState: LOCKED_STATE,\n        })\n      );\n\n      return {\n        skills: resettedSkills,\n        resetId: this.context.resetId,\n      };\n    });\n  };\n\n  setSkillCount = (skillCount: number) => {\n    return this.setState({\n      skillCount,\n    });\n  };\n\n  handleNodeSelect = (\n    key: string,\n    state: NodeState,\n    skill: Skill,\n    learned: number\n  ) => {\n    return this.props.sendNodeSelectDataToClient({\n      key,\n      state,\n      skill,\n      learned,\n    });\n  };\n\n  handleNodeRemove = (\n    key: string,\n    state: NodeState,\n    skill: Skill,\n    learned: number\n  ) => {\n    return this.props.sendNodeRemoveDataToClient({\n      key,\n      state,\n      skill,\n      learned,\n    });\n  };\n\n  updateSkillState = (\n    key: string,\n    updatedState: NodeState,\n    optional: boolean = false\n  ) => {\n    const { handleSave, treeId } = this.props;\n\n    return this.setState(prevState => {\n      const updatedSkills = {\n        ...prevState.skills,\n        [key]: {\n          optional,\n          nodeState: updatedState,\n        },\n      };\n\n      handleSave(this.storage!, treeId, updatedSkills);\n\n      return {\n        skills: updatedSkills,\n      };\n    });\n  };\n\n  render() {\n    return (\n      <SkillContext.Provider\n        value={{\n          mounting: this.state.mounting,\n          skills: this.state.skills,\n          skillCount: this.state.skillCount,\n          selectedCount: this.state.selectedCount,\n          updateSkillState: this.updateSkillState,\n          setSkillCount: this.setSkillCount,\n          handleNodeSelect: this.handleNodeSelect,\n          handleNodeRemove: this.handleNodeRemove,\n          incrementSelectedCount: this.incrementSelectedCount,\n          decrementSelectedCount: this.decrementSelectedCount,\n        }}\n      >\n        {this.props.children}\n      </SkillContext.Provider>\n    );\n  }\n}\n\nexport default SkillContext;\n","import React, { useRef, useEffect, useContext, useCallback } from 'react';\nimport { isEmpty } from 'lodash';\nimport SkillNode from './SkillNode';\nimport SkillEdge from './SkillEdge';\nimport { Skill } from '../models';\nimport { Nullable } from '../models/utils';\nimport SkillContext from '../context/SkillContext';\nimport { SELECTED_STATE, LOCKED_STATE, UNLOCKED_STATE } from './constants';\n\ntype Props = {\n  skill: Skill;\n  parentPosition: number;\n  parentHasMultipleChildren: boolean;\n  shouldBeUnlocked: boolean;\n  currentLevel: string | number | number;\n} & typeof SkillTreeSegment.defaultProps;\n\nfunction SkillTreeSegment({\n  skill,\n  hasParent,\n  parentHasMultipleChildren,\n  parentPosition,\n  shouldBeUnlocked,\n  currentLevel,\n}: Props) {\n  const {\n    mounting,\n    skills,\n    updateSkillState,\n    decrementSelectedCount,\n    incrementSelectedCount,\n    handleNodeSelect,\n    handleNodeRemove,\n  } = useContext(SkillContext);\n\n  const skillNodeRef: React.MutableRefObject<Nullable<HTMLDivElement>> = useRef(\n    null\n  );\n  const [learned, setLearned] = React.useState(skill.learned);\n  const nodeState = skills[skill.id] ? skills[skill.id].nodeState : 'locked';\n\n  useEffect(() => {\n    setLearned(skill.learned);\n  }, [skill.learned]);\n\n  useEffect(() => {\n    if (mounting) return;\n\n    if (nodeState === SELECTED_STATE && !shouldBeUnlocked) {\n      return updateSkillState(skill.id, LOCKED_STATE, skill.optional);\n    }\n\n    if (nodeState === UNLOCKED_STATE && !shouldBeUnlocked) {\n      return updateSkillState(skill.id, LOCKED_STATE, skill.optional);\n    }\n\n    if (!shouldBeUnlocked) {\n      return;\n    }\n\n    if (nodeState === LOCKED_STATE && shouldBeUnlocked) {\n      return updateSkillState(skill.id, UNLOCKED_STATE, skill.optional);\n    }\n\n    if (nodeState === SELECTED_STATE && shouldBeUnlocked && learned === 0) {\n      return updateSkillState(skill.id, UNLOCKED_STATE, skill.optional);\n    }\n  }, [nodeState, shouldBeUnlocked, mounting, learned]);\n\n  useEffect(() => {\n    if (mounting) return;\n\n    if (isEmpty(skills)) {\n      return updateSkillState(skill.id, UNLOCKED_STATE);\n    }\n\n    return;\n  }, [mounting]);\n\n  const handleLearnedChange = (newValue: number) => {\n    setLearned(newValue);\n  };\n  return (\n    <div\n      style={{\n        margin: !hasParent ? '16px 0' : '',\n      }}\n    >\n      {hasParent && (\n        <SkillEdge\n          parentHasMultipleChildren={parentHasMultipleChildren}\n          state={nodeState}\n          childNodeRef={skillNodeRef}\n          parentPosition={parentPosition}\n        />\n      )}\n      <div ref={skillNodeRef}>\n        <SkillNode\n          incSkillCount={useCallback(incrementSelectedCount, [])}\n          decSkillCount={useCallback(decrementSelectedCount, [])}\n          updateSkillState={updateSkillState}\n          currentLevel={currentLevel}\n          skill={skill}\n          learned={learned}\n          handleLearnedChange={handleLearnedChange}\n          nodeState={nodeState}\n          handleNodeSelect={handleNodeSelect}\n          handleNodeRemove={handleNodeRemove}\n        />\n      </div>\n    </div>\n  );\n}\n\nSkillTreeSegment.defaultProps = {\n  hasParent: true,\n};\n\nexport default SkillTreeSegment;\n","import * as React from 'react';\n\ninterface Props {\n  display: boolean;\n}\n\nfunction HSeparator({ display }: Props) {\n  return (\n    <div style={{ height: '2px' }}>\n      {display && <hr style={{ margin: 0 }} data-testid=\"h-separator\" />}\n    </div>\n  );\n}\n\nexport default HSeparator;\n","import React, { useEffect, useState } from 'react';\nimport styled, { BaseThemedCssFunction } from 'styled-components';\nimport { SkillTheme } from 'theme';\n\nconst css: BaseThemedCssFunction<SkillTheme> = require('styled-components').css;\n\ninterface VisibilityContainerProps {\n  isVisible: boolean;\n}\n\ninterface Props {\n  isVisible: boolean;\n  children: React.ReactNode;\n}\n\nfunction VisibilityContainer(props: Props) {\n  const { isVisible, children } = props;\n  const [hasBeenVisible, setHasBeenVisibleState] = useState(isVisible);\n\n  useEffect(() => {\n    if (isVisible) {\n      setHasBeenVisibleState(true);\n    }\n  }, [isVisible, setHasBeenVisibleState]);\n\n  if (!hasBeenVisible) return null;\n\n  return (\n    <StyledVisibilityContainer\n      data-testid=\"visibility-container\"\n      isVisible={isVisible}\n    >\n      {children}\n    </StyledVisibilityContainer>\n  );\n}\n\nexport default VisibilityContainer;\n\nconst StyledVisibilityContainer = styled.div<VisibilityContainerProps>`\n  transition: transform 0.15s ease-out, opacity 0.15s ease-out,\n    max-height 0.15s ease-out, visibility 0.15s ease-out;\n  height: auto;\n  max-height: 10000px;\n  min-width: 304px;\n  opacity: 1;\n  overflow: hidden;\n  visibility: visible;\n  transform: scaleY(1);\n  transform-origin: top;\n\n  ${({ isVisible }) =>\n    !isVisible &&\n    css`\n      transition: transform 0.15s ease-out, opacity 0.15s ease-out,\n        max-height 0.15s ease-out, visibility 0.15s 0.15s ease-out;\n      transform: scaleY(0);\n      visibility: hidden;\n      max-height: 0;\n      width: 304px;\n      opacity: 0;\n    `}\n`;\n","import { useContext, useEffect } from 'react';\nimport { Skill, SkillCount } from '../models';\nimport AppContext from '../context/AppContext';\nimport SkillContext from '../context/SkillContext';\n\ninterface Props {\n  data: Skill[];\n}\n\nfunction calculateNodeCount(data: Skill[]): SkillCount {\n  return data.reduce(\n    (prev, curr) => {\n      const nodeType = curr.optional ? 'optional' : 'required';\n\n      if (curr.children.length > 0) {\n        const incOptional = nodeType === 'optional' ? 1 : 0;\n        const incRequired = nodeType === 'required' ? 1 : 0;\n        const childNodeCount = calculateNodeCount(curr.children);\n\n        return {\n          optional: prev.optional + childNodeCount.optional + incOptional,\n          required: prev.required + childNodeCount.required + incRequired,\n        };\n      }\n\n      return {\n        ...prev,\n        [nodeType]: prev[nodeType] + 1,\n      };\n    },\n    {\n      required: 0,\n      optional: 0,\n    }\n  );\n}\n\nfunction CalculateNodeCount({ data }: Props) {\n  const { addToSkillCount } = useContext(AppContext);\n  const { setSkillCount } = useContext(SkillContext);\n\n  useEffect(() => {\n    const count = calculateNodeCount(data);\n    const { required, optional } = count;\n    setSkillCount(required + optional);\n    addToSkillCount(count);\n  }, []);\n\n  return null;\n}\n\nexport default CalculateNodeCount;\n","import React, { useCallback, useContext } from 'react';\nimport styled, { BaseThemedCssFunction, ThemeContext } from 'styled-components';\nimport { SkillTheme } from '../theme';\nimport Tippy from '@tippy.js/react';\n\nconst css: BaseThemedCssFunction<SkillTheme> = require('styled-components').css;\n\ninterface Props {\n  handleClick: () => void;\n  collapsible: boolean;\n  isVisible: boolean;\n  id: string;\n  title: React.ReactNode | string;\n  description?: string;\n  disabled: boolean;\n}\n\ninterface HeaderCaretProps {\n  isCollapsible: boolean;\n  isVisible: boolean;\n}\n\ninterface CollapsibleContainerProps {\n  isCollapsible: boolean;\n  isDisabled: boolean;\n}\n\nfunction SkillTreeHeader(props: Props) {\n  const {\n    handleClick,\n    collapsible,\n    isVisible,\n    id,\n    title,\n    description,\n    disabled,\n  } = props;\n  const { tooltipZIndex } = useContext<SkillTheme>(ThemeContext);\n\n  const memoizedHandleKeyDown = useCallback(\n    function handleKeyDown(e: React.KeyboardEvent<HTMLDivElement>) {\n      if (e.keyCode === 13) {\n        handleClick();\n      }\n    },\n    [handleClick]\n  );\n\n  return (\n    <StyledTippy\n      zIndex={tooltipZIndex}\n      enabled={Boolean(description)}\n      content={description || ''}\n    >\n      <StyledSkillTreeHeader\n        tabIndex={0}\n        onKeyDown={memoizedHandleKeyDown}\n        onPointerDown={handleClick}\n        isCollapsible={collapsible}\n        isDisabled={disabled}\n      >\n        <div style={{ position: 'relative' }}>\n          <HeaderCaret isCollapsible={collapsible} isVisible={isVisible}>\n            \n          </HeaderCaret>\n          <SkillTreeTitle id={id}>{title}</SkillTreeTitle>\n        </div>\n      </StyledSkillTreeHeader>\n    </StyledTippy>\n  );\n}\n\nexport default SkillTreeHeader;\n\nconst StyledSkillTreeHeader = styled.div<CollapsibleContainerProps>`\n  ${({ isDisabled }) =>\n    isDisabled &&\n    css`\n      opacity: ${({ theme }) => theme.disabledTreeOpacity};\n    `}\n  ${({ isCollapsible }) =>\n    isCollapsible &&\n    css`\n      background: ${({ theme }) => theme.treeBackgroundColor};\n      border: ${({ theme }) => theme.border};\n      border-radius: ${({ theme }) => theme.borderRadius};\n      cursor: pointer;\n      min-width: 300px;\n      transition: ${({ theme }) => theme.headingHoverColorTransition};\n      user-select: none;\n\n      &:hover {\n        background: ${({ theme }) => theme.headingHoverColor};\n      }\n    `}\n`;\n\nconst HeaderCaret = styled.span<HeaderCaretProps>`\n  color: ${({ theme }) => theme.headingFontColor};\n  display: ${({ isCollapsible }) => (isCollapsible ? 'inline' : 'none')};\n  font-family: ${({ theme }) => theme.headingFont};\n  font-size: ${({ theme }) => theme.headingFontSize};\n  left: 8px;\n  position: absolute;\n  transform: rotate(90deg);\n  transition: 0.15s transform ease-out;\n\n  ${({ isVisible }) =>\n    isVisible &&\n    css`\n      transform: rotate(180deg);\n    `}\n`;\n\nconst StyledTippy = styled(Tippy)`\n  background: ${({ theme }) => theme.tooltipBackgroundColor};\n  color: ${({ theme }) => theme.tooltipFontColor};\n\n  &[data-placement^='top'] {\n    .tippy-arrow {\n      border-top-color: ${({ theme }) => theme.tooltipBackgroundColor};\n    }\n  }\n`;\n\nconst SkillTreeTitle = styled.h2`\n  font-family: ${({ theme }) => theme.headingFont};\n  margin-bottom: 0;\n  min-width: 152px;\n  text-align: center;\n`;\n","import { useContext, useEffect } from 'react';\nimport { Skill, SkillMap } from '../../models';\nimport FilterContext from '../../context/FilterContext';\n\ninterface Props {\n  treeId: string;\n  skills: Skill[];\n}\n\nfunction createSkillsTreeMap(treeId: string, skills: Skill[]) {\n  const skillsTreeMap: SkillMap = {};\n\n  function addSkillToMap(currentSkill: Skill[]) {\n    currentSkill.forEach(skill => {\n      if (skill.children.length > 0) {\n        addSkillToMap(skill.children);\n      }\n\n      skillsTreeMap[skill.title.toLowerCase()] = treeId;\n    });\n  }\n\n  addSkillToMap(skills);\n\n  return skillsTreeMap;\n}\n\nfunction AddToFilterIndex(props: Props) {\n  const { skills, treeId } = props;\n  const { addToSkillMap } = useContext(FilterContext);\n\n  useEffect(() => {\n    const skillsTreeMap = createSkillsTreeMap(treeId, skills);\n    addToSkillMap(skillsTreeMap);\n  }, []);\n\n  return null;\n}\n\nexport default AddToFilterIndex;\n","import { useEffect, useContext, useState } from 'react';\nimport FilterContext from '../../context/FilterContext';\n\ninterface Props {\n  setVisibility: (isVisible: boolean) => void;\n  isVisible: boolean;\n  treeId: string;\n  disabled: boolean;\n}\n\nfunction FilterListener({ setVisibility, isVisible, treeId, disabled }: Props) {\n  const { filtersMatches } = useContext(FilterContext);\n  const [hasLoaded, setLoadingState] = useState(false);\n\n  useEffect(() => {\n    if (!hasLoaded) {\n      return setLoadingState(true);\n    }\n\n    if (disabled) {\n      return setVisibility(false);\n    }\n\n    if (!filtersMatches) {\n      if (isVisible === true) return;\n\n      return setVisibility(true);\n    }\n\n    if (!filtersMatches.has(treeId)) {\n      if (isVisible === false) return;\n      return setVisibility(false);\n    }\n\n    if (isVisible === true) return;\n    return setVisibility(true);\n  }, [filtersMatches]);\n\n  return null;\n}\n\nexport default FilterListener;\n","import React, { useState, useCallback } from 'react';\nimport {\n  Skill,\n  SavedDataType,\n  ContextStorage,\n  NodeSelectEvent,\n} from '../models';\nimport SkillTreeSegment from './SkillTreeSegment';\nimport HSeparator from './ui/HSeparator';\nimport VisibilityContainer from './VisibilityContainer';\nimport CalculateNodeCount from './CalculateNodeCount';\nimport { SkillTreeProvider } from '../context/SkillContext';\nimport styled from 'styled-components';\nimport SkillTreeHeader from './SkillTreeHeader';\nimport AddToFilterIndex from './filter/AddToFilterIndex';\nimport FilterListener from './filter/FilterListener';\nimport useMobile from '../hooks/useMobile';\n\nexport interface Props {\n  treeId: string;\n  data: Skill[];\n  title: React.ReactNode | string;\n  description?: string;\n  collapsible?: boolean;\n  closedByDefault?: boolean;\n  savedData?: SavedDataType;\n  disabled?: boolean;\n  currentLevel: string | number;\n  skillPoint: string | number;\n  loading: boolean;\n  handleSave?: (\n    storage: ContextStorage,\n    treeId: string,\n    skills: SavedDataType\n  ) => void;\n  handleNodeSelect?: (e: NodeSelectEvent) => void;\n  handleNodeRemove?: (e: NodeSelectEvent) => void;\n}\n\ninterface CollapsibleContainerProps {\n  isCollapsible: boolean;\n}\n\nfunction SkillTree({\n  data,\n  title,\n  description,\n  closedByDefault,\n  currentLevel,\n  treeId,\n  savedData,\n  skillPoint,\n  loading,\n  handleSave,\n  handleNodeSelect,\n  handleNodeRemove,\n  collapsible = false,\n  disabled = false,\n}: Props) {\n  const isMobile = useMobile();\n  const initialVisibility = closedByDefault || disabled ? false : true;\n  const [isVisible, setVisibility] = useState(initialVisibility);\n\n  const memoizedToggleVisibility = useCallback(\n    function toggleVisibility() {\n      if (disabled) {\n        return setVisibility(false);\n      }\n\n      if (!collapsible) {\n        return setVisibility(true);\n      }\n\n      return setVisibility(!isVisible);\n    },\n    [isVisible, disabled, collapsible]\n  );\n\n  return (\n    <React.Fragment>\n      <AddToFilterIndex treeId={treeId} skills={data} />\n      <FilterListener\n        disabled={disabled}\n        isVisible={isVisible}\n        setVisibility={setVisibility}\n        treeId={treeId}\n      />\n      <SkillTreeProvider\n        treeId={treeId}\n        savedData={savedData}\n        handleSave={handleSave}\n        sendNodeSelectDataToClient={handleNodeSelect}\n        sendNodeRemoveDataToClient={handleNodeRemove}\n      >\n        <CalculateNodeCount data={data} />\n        <SkillTreeContainer>\n          <SkillTreeHeader\n            isVisible={isVisible}\n            disabled={disabled}\n            handleClick={memoizedToggleVisibility}\n            collapsible={collapsible}\n            id={treeId}\n            description={description}\n            title={title}\n          />\n          <VisibilityContainer isVisible={isVisible}>\n            <StyledSkillTree isCollapsible={collapsible}>\n              {data.map((skill, i) => {\n                const displaySeparator = data.length - 1 !== i && isMobile;\n\n                return (\n                  <React.Fragment key={skill.id}>\n                    <SkillTreeSegment\n                      shouldBeUnlocked={\n                        currentLevel >= skill.requiredLevel &&\n                        skillPoint > 0 &&\n                        !loading\n                      }\n                      currentLevel={currentLevel}\n                      skill={skill}\n                      hasParent={false}\n                      parentPosition={0}\n                      parentHasMultipleChildren={false}\n                    />\n                    <HSeparator display={displaySeparator} />\n                  </React.Fragment>\n                );\n              })}\n            </StyledSkillTree>\n          </VisibilityContainer>\n        </SkillTreeContainer>\n      </SkillTreeProvider>\n    </React.Fragment>\n  );\n}\n\nexport default SkillTree;\n\nconst SkillTreeContainer = styled.div`\n  background-color: ${({ theme }) => theme.backgroundColor};\n  margin: 0 8px 48px;\n  min-width: 304px;\n\n  @media (min-width: 900px) {\n    margin: 0 8px 16px;\n    padding: 16px;\n  }\n`;\n\nconst StyledSkillTree = styled.div<CollapsibleContainerProps>`\n  background: ${({ theme }) => theme.treeBackgroundColor};\n  border: ${({ theme }) => theme.border};\n  border-top: ${({ isCollapsible }) => (isCollapsible ? '0' : 'auto')};\n  border-radius: ${({ theme }) => theme.borderRadius};\n  display: flex;\n  flex-direction: column;\n  justify-content: center;\n\n  @media (min-width: 1200px) {\n    flex-direction: row;\n  }\n`;\n","import React from 'react';\nimport { AppProvider } from '../context/AppContext';\nimport { FilterProvider } from '../context/FilterContext';\n\ninterface Props {\n  children: React.ReactNode;\n}\n\nfunction SkillProvider({ children }: Props) {\n  return (\n    <AppProvider>\n      <FilterProvider>{children}</FilterProvider>\n    </AppProvider>\n  );\n}\n\nexport default SkillProvider;\n"],"names":["reducer","state","action","type","selectedSkillCount","optional","required","initialState","AppContext","React","skillCount","addToSkillCount","dispatch","resetId","resetSkills","AppProvider","children","setResetId","setSkillCount","Provider","value","prev","uuid","defaultTheme","backgroundColor","border","borderRadius","primaryFont","primaryFontColor","treeBackgroundColor","disabledTreeOpacity","headingFont","headingFontColor","headingFontSize","headingHoverColor","headingHoverColorTransition","tooltipBackgroundColor","tooltipFontColor","tooltipZIndex","nodeBackgroundColor","nodeBorderColor","nodeAlternativeFontColor","nodeAltenativeActiveFontColor","nodeOverlayColor","nodeAlternativeActiveBackgroundColor","nodeActiveBackgroundColor","nodeHoverBorder","nodeHoverBorderColor","nodeIconWidth","nodeMobileTextNodeHeight","nodeMobileTextNodeWidth","nodeMobileFontSize","nodeDesktopTextNodeHeight","nodeDesktopTextNodeWidth","nodeDesktopFontSize","edgeBorder","FilterContext","filtersMatches","handleFilter","addToSkillMap","FilterProvider","props","skillMap","setSkillMap","setMatches","query","trim","sanitizedQuery","toLowerCase","filteredSkills","Object","keys","filter","key","includes","treeIds","Set","map","skill","SkillTreeGroup","theme","skillTreeTheme","ThemeProvider","StyleSkillTreeGroup","defaultProps","styled","div","_templateObject","LOCKED_STATE","UNLOCKED_STATE","SELECTED_STATE","TooltipContent","content","handleClose","style","display","justifyContent","Title","title","onClick","width","margin","cursor","src","alt","ContentContainer","h1","_templateObject2","useMobile","useState","Infinity","setWidth","useEffect","window","innerWidth","throttledHandler","throttle","addEventListener","removeEventListener","Tooltip","tooltip","direction","useContext","ThemeContext","tooltipRef","useRef","isMobile","placement","useMemo","hideTooltip","current","hide","memoizedContent","StyledTippy","interactive","onCreate","hideOnClick","animation","arrow","appendTo","document","body","touch","zIndex","Tippy","Icon","memo","StyledIcon","containerWidth","Image","attrs","height","img","keyframes","require","css","Node","ref","handleClick","handleRightClick","id","currentState","learned","color","isIOS","setIsIOS","memoizedHandleKeyDown","e","keyCode","iDevices","navigator","platform","length","pop","isIOSDevice","StyledNode","preventDefault","button","onKeyDown","tabIndex","selected","unlocked","locked","IconNode","icon","LevelNode","levels","TextNode","Text","AlternativeText","shadowburst","shadowpulse","_templateObject3","_templateObject7","nodeIconNodeWidth","_templateObject8","_templateObject9","p","_templateObject10","_templateObject11","SkillNode","nodeState","currentLevel","handleLearnedChange","incSkillCount","updateSkillState","handleNodeSelect","handleNodeRemove","parentPosition","setParentPosition","skillNodeRef","childWidth","calculatePosition","getBoundingClientRect","left","scrollX","right","calculateOverlayWidth","clientWidth","handleResize","throttledHandleResize","hasMultipleChildren","Fragment","StyledSkillNode","SkillTreeSegmentWrapper","child","SkillTreeSegment","hasParent","parentHasMultipleChildren","shouldBeUnlocked","requiredLevel","Line","LineContainer","StyledLine","slidedown","StyledAngledLine","UpperAngledLine","AngledLineVerticalTop","slideDownAngledLineTop","MiddleAngledLine","childPosition","AngledLineHoriztonal","slideDownAngledLineMiddle","LowerAngledLine","AngledLineVerticalBottom","slideDownAngledLineBottom","SkillEdge","childNodeRef","setChildPosition","position","SkillContext","mounting","skills","selectedCount","incrementSelectedCount","decrementSelectedCount","SkillTreeProvider","context","_this","savedData","storedItems","storage","getItem","treeId","JSON","parse","setState","prevState","mapValues","sendNodeSelectDataToClient","sendNodeRemoveDataToClient","updatedState","handleSave","updatedSkills","componentDidMount","this","localStorage","treeSkills","getTreeSkills","componentDidUpdate","render","setLearned","isEmpty","useCallback","decSkillCount","newValue","HSeparator","setItem","stringify","VisibilityContainer","isVisible","hasBeenVisible","setHasBeenVisibleState","StyledVisibilityContainer","CalculateNodeCount","data","count","calculateNodeCount","reduce","curr","nodeType","incOptional","incRequired","childNodeCount","SkillTreeHeader","collapsible","description","disabled","enabled","Boolean","StyledSkillTreeHeader","onPointerDown","isCollapsible","isDisabled","HeaderCaret","SkillTreeTitle","span","_templateObject4","_templateObject6","h2","AddToFilterIndex","skillsTreeMap","addSkillToMap","currentSkill","forEach","createSkillsTreeMap","FilterListener","setVisibility","hasLoaded","setLoadingState","has","SkillTreeContainer","StyledSkillTree","closedByDefault","skillPoint","loading","memoizedToggleVisibility","i","displaySeparator"],"mappings":"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"}